import{_ as i,c as a,o as n,ah as e}from"./chunks/framework.DI05BorS.js";const c=JSON.parse('{"title":"服务函数","description":"","frontmatter":{},"headers":[],"relativePath":"api/service.md","filePath":"api/service.md","lastUpdated":null}'),l={name:"api/service.md"};function p(h,s,t,r,k,d){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="服务函数" tabindex="-1">服务函数 <a class="header-anchor" href="#服务函数" aria-label="Permalink to “服务函数”">​</a></h1><p>调用地图服务/API，获取一些常用的服务数据，如地址、距离、方向等。</p><h2 id="获取地址-amap" tabindex="-1">获取地址（AMap） <a class="header-anchor" href="#获取地址-amap" aria-label="Permalink to “获取地址（AMap）”">​</a></h2><h3 id="getaddressbygeocoder" tabindex="-1">getAddressByGeocoder <a class="header-anchor" href="#getaddressbygeocoder" aria-label="Permalink to “getAddressByGeocoder”">​</a></h3><p>调用高德地图逆地理编码服务，获取指定经纬度的地址。</p><p><strong>参数:</strong></p><ul><li><code>geocoder</code>: AMap.Geocoder 实例</li><li><code>lnglat</code>: 经纬度坐标 <code>[经度, 纬度]</code></li></ul><p><strong>返回值:</strong></p><ul><li>地址（字符串）</li></ul><p><strong>示例:</strong></p><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { getAddressByGeocoder } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;geo-types-cz&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 创建高德地图逆地理编码服务实例</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> geocoder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AMap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Geocoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  city: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;010&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 城市编码，默认：&#39;010&#39;（北京）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 调用服务函数获取地址</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAddressByGeocoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(geocoder, [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">116.397428</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">39.90923</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">address</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;地址:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, address))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;获取地址失败:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,11)]))}const o=i(l,[["render",p]]);export{c as __pageData,o as default};
